<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<body>
		<ui:composition>
				<p:panel header="#{etudiantBean.form_label} d'un Etudiant" style="margin-bottom:10px;width:100%;text-align:center;font-weight:bold" id="panel-etudiant-form">
			        <h:panelGrid 	columns="2" 
			        				cellpadding="5" 
			        				width="75%" 
			        				style="text-align:left;margin-left:15%;">
			        	<p:outputLabel for="id-etudiant" value="ID" />
						<p:inputText type="text"
									 name="id"
									 disabled="true"
									 id="id-etudiant"
									 value="#{etudiantBean.etudiant.id}"
									 style="width:100%;"
									 required="true"/>
									 
						<p:outputLabel for="nom-etudiant" value="Nom" />
						<p:inputText 	id="nom-etudiant" 
										value="#{etudiantBean.etudiant.nom}" 
										style="width:100%;"
										required="true"/>
										
						<p:outputLabel for="prenom-etudiant" value="Prenom" />
						<p:inputText 	id="prenom-etudiant"
										value="#{etudiantBean.etudiant.prenom}" 
										style="width:100%;"
										required="true"/>
										
						<p:outputLabel for="cne-etudiant" value="CNE" />
						<p:inputText 	id="cne-etudiant" 
										value="#{etudiantBean.etudiant.cne}"
										style="width:100%;" 
										required="true"/>
										
						<p:outputLabel for="filiere-etudiant" value="Filiere" />
						<p:autoComplete id="filiere-etudiant"
	 										required="true"
											size="90" 
	 										placeholder="Filiere "
	 										forceSelection="true"
	 										value="#{etudiantBean.completeFiliere}"
	 										completeMethod="#{etudiantBean.completesFiliere}"
	 										maxResults="10"
	 										var="f"
	 										itemValue="#{f}"
	 										itemLabel="#{etudiantBean.completeFiliereLabel(f)}"
	 										converter="#{filiereConverter}"/>
	 					
	 					<p:outputLabel value="Charger une Photo" />	
	 					<p:fileUpload auto="true"
										  skinSimple="true"
										  mode="simple"
										  accept="image/*"
										  update="panelGroup,panelGroupp"
										  style="width:125px;"
				                      	  listener="#{etudiantBean.handleUpload}"/>
                  	   <h:panelGroup style="position:relative" id="panelGroupp">
                     	<p:outputLabel for="photo-etudiant-etd" value="Photo" id="labellPhoto" rendered="#{etudiantBean.existImg()}" />
                  	  </h:panelGroup>
                  	  <h:panelGroup style="position:relative" id="panelGroup">
							<p:panel header="Photo" style="text-align:center"  rendered="#{etudiantBean.existImg()}">
								<p:graphicImage id="photo-etudiant-etd"
												value="#{etudiantBean.image}"
												stream="false"
												width="200px">
								    <f:param name="id" />
								</p:graphicImage>						
							</p:panel>
						</h:panelGroup>
						
					</h:panelGrid>
					<p:separator />		
					<div style="text-align: right;width:100%">
						<p:commandButton 	value="#{etudiantBean.button_label}" 
											action="#{etudiantBean.save()}" 
											id="btn-submit-etudiant" 
											style="text-align:right"
											update="mainPanel,mygrowl">
						</p:commandButton>
					</div>
				</p:panel>
		</ui:composition>
</body>
</html>